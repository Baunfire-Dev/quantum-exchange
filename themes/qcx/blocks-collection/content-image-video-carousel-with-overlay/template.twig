<section class="{{ block.slug }} {{ block.className }} bg-black">
	{% if block.anchor %}
		<div class="section-anchor" id="{{ block.anchor ?? block.id }}"></div>
	{% endif %}

	{% set pt = fields.padding_top and fields.padding_top != "unset" ? fields.padding_top : "st-xxl" %}
	{% set pb = fields.padding_top and fields.padding_bottom != "unset" ? fields.padding_bottom : "sb-xxl" %}

	<div class="container">
		<div class="{{ pt }} {{ pb }} relative">
			<div class="flex flex-col ~gap-[2rem]/[3rem] relative">
				{% if fields.heading %}
					<h2 class="block-heading alpha text-white">{{ fields.heading }}
						<span class="words">
							{% for item in fields.items %}
								{% if item.heading %}
									<span class="word {{ loop.index == 1 ? " active" }}" data-index="{{ loop.index }}">{{ item.heading }}</span>
								{% endif %}
							{% endfor %}
						</span>
					</h2>
				{% endif %}

				{% if fields.items|length %}
					<div class="carousel-container">
						<div class="owl-carousel lg:flex-1 lg:max-w-[60rem]">
							{% for item in fields.items %}
								<div class="item">
									<div class="item-inner">
										<div class="item-desc">
											{% if item.title or item.description %}
												<div class="flex flex-col ~gap-[0.5rem]/[0.75rem]">
													{% if item.title %}
														<h4 class="text-white">{{ item.title }}</h4>
													{% endif %}

													{% if item.description %}
														<p class="text-white-75">{{ item.description }}</p>
													{% endif %}
												</div>
											{% endif %}

											{% if item.has_gallery %}
												{% if item.cta_text %}
													<div class="btn filled teal has-arrow open-overlay" type="button" data-index="{{ loop.index }}">
														<p>{{ item.cta_text }}</p>

														<div class="btn-arrow">
															<svg width="10" height="10" viewbox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
																<path d="M10 4.99946L4.99946 10L3.82882 8.82936L6.83087 5.82731H0V4.17161H6.83087L3.82882 1.17064L4.99946 0L10 4.99946Z" fill="#8BFFF7"/>
															</svg>
														</div>
													</div>
												{% endif %}
											{% else %}
												{% include 'components/cta.twig' with {
                                                    'class' : 'filled teal',
                                                    'cta': item.cta, 
                                                    'icon': true,
                                                } %}
											{% endif %}
										</div>

										{% if item.image %}
											<div class="media-container image">
												{% include 'components/image.twig' with {
                                                    'image': item.image,
                                                    'size': [960, 580],
                                                } %}
											</div>
										{% endif %}
									</div>
								</div>
							{% endfor %}
						</div>

						<div class="shrink-0 xl:ml-auto flex gap-[0.75rem] lg:mt-auto relative z-[2] max-xl:justify-between">
							<div class="arrow prev">
								<div class="arrow-inner">
									<svg width="10" height="10" viewbox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M10 4.99946L4.99946 10L3.82882 8.82936L6.83087 5.82731H0V4.17161H6.83087L3.82882 1.17064L4.99946 0L10 4.99946Z" fill="#8BFFF7"/>
									</svg>
								</div>

								<div class="arrow-progress">
									<svg viewbox="0 0 36 36" width="36" height="36">
										<circle class="background" cx="18" cy="18" r="17" stroke="#FFFFFF66" stroke-width="1" fill="none" stroke-linecap="round"/>
									</svg>
								</div>
							</div>

							<div class="arrow next">
								<div class="arrow-inner">
									<svg width="10" height="10" viewbox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M10 4.99946L4.99946 10L3.82882 8.82936L6.83087 5.82731H0V4.17161H6.83087L3.82882 1.17064L4.99946 0L10 4.99946Z" fill="#8BFFF7"/>
									</svg>
								</div>

								<div class="arrow-progress">
									<svg viewbox="0 0 36 36" width="36" height="36">
										<circle class="background" cx="18" cy="18" r="17" stroke="#FFFFFF66" stroke-width="1" fill="none" stroke-linecap="round"/>
										<circle class="foreground" cx="18" cy="18" r="17" stroke="#EE5833" stroke-width="1" fill="none" stroke-linecap="round"/>
									</svg>
								</div>
							</div>
						</div>
					</div>

					{% for item in fields.items %}
						{% if item.has_gallery and item.gallery|length and item.cta_text %}
							<dialog data-index="{{ loop.index }}">
								<div class="dialog">
									<div class="container">
										<div class="dialog-inner">
											{% if item.gallery|length > 1 %}
												<div class="owl-carousel">
													{% for gl in item.gallery %}
														{% if gl.media_type == "image" and gl.media_image %}
															<div class="dialog-item">
																<div class="media-container image">
																	{% include 'components/image.twig' with {
                                                                        'class': "object-top",
                                                                        'image': gl.media_image,
                                                                        'size': "large",
                                                                    } %}
																</div>
															</div>
														{% endif %}

														{% if gl.media_type == "video" and gl.media_video %}
															<div class="media-container video" data-video="{{ gl.media_video }}">
																<div class="media-play">
																	<svg width="12" height="14" viewbox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">
																		<path d="M0 0V14L12 7L0 0Z" fill="white"/>
																	</svg>
																</div>

																<div class="media-thumbnail"></div>
															</div>
														{% endif %}
													{% endfor %}
												</div>
											{% else %}
												{% for gl in item.gallery %}
													{% if gl.media_type == "image" and gl.media_image %}
														<div class="dialog-item">
															<div class="media-container image">
																{% include 'components/image.twig' with {
                                                                    'class': "object-top",
                                                                    'image': gl.media_image,
                                                                    'size': "large",
                                                                } %}
															</div>
														</div>
													{% endif %}

													{% if gl.media_type == "video" and gl.media_video %}
														<div class="media-container video" data-video="{{ gl.media_video }}">
															<div class="media-play">
																<svg width="12" height="14" viewbox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">
																	<path d="M0 0V14L12 7L0 0Z" fill="white"/>
																</svg>
															</div>

															<div class="media-thumbnail"></div>
														</div>
													{% endif %}
												{% endfor %}
											{% endif %}
										</div>
									</div>
								</div>
							</dialog>
						{% endif %}
					{% endfor %}
				{% endif %}
			</div>
		</div>
	</div>
</section>
