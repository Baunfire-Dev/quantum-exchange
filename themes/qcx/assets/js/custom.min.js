(()=>{(function(s){"use strict";let e={$:jQuery.noConflict(),initialized:!1,modules:[],anim:{start:"top 60%"},lenis:null,linesSetupParams:{type:"lines",autoSplit:!0,reduceWhiteSpace:!1},linesAnimParams:{yPercent:70,opacity:0,duration:1.2,ease:"power3.out",stagger:.14},init(){this.initialized||(this.initialized=!0,this.modules.forEach(n=>{typeof n.init=="function"&&n.init(e)}))},addModule(n){this.modules.push(n)},load(){console.log("Baunfire loaded")},smoothScroll(){this.lenis=new Lenis({anchors:!0,allowNestedScroll:!0}),this.lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(n=>{this.lenis.raf(n*1e3)}),gsap.ticker.lagSmoothing(0)},ready(n){e.smoothScroll(),e.init(),typeof n=="function"&&n(e)}};s.baunfire=e})(window);(function(){let s=baunfire.$;baunfire.Global={init(){this.handleSpecialLinks(),this.siteCopyURL()},debounce(t,e=300){let n;return(...a)=>{clearTimeout(n),n=setTimeout(()=>t.apply(null,a),e)}},screenSizeChange(){ScrollTrigger.refresh(),baunfire.lenis?.resize()},siteScrolling(t=!0){t?(s("html").removeClass("disable-scrolling"),baunfire.lenis?.start()):(s("html").addClass("disable-scrolling"),baunfire.lenis?.stop())},callAfterResize(t,e=.2){let n=gsap.delayedCall(e,t).pause(),a=()=>n.restart(!0);return window.addEventListener("resize",a),a},generateVimeoIframe(t,e=!1){return e?`<iframe class="pointer-events-none" src="https://player.vimeo.com/video/${t}?badge=0&portrait=0&byline=0&title=0&pip=0&autopause=1&airplay=0&vimeo_logo=0&dnt=1&background=1" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media"></iframe>`:`<iframe src="https://player.vimeo.com/video/${t}?badge=0&portrait=0&byline=0&title=0&pip=0&autopause=1&airplay=0&vimeo_logo=0&dnt=1" playsinline frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media"></iframe>`},refreshScrollTriggers(){ScrollTrigger.getAll().forEach(e=>{e.refresh(!0)})},handleSpecialLinks(){(()=>{let e=s('a[href^="download:"]');e.length&&e.each(function(){let n=s(this),a=n.attr("href");n.attr("href",a.replace("download:","")),n.attr("download","")})})()},updateSelectClass(t){let e=t.selectmenu("menuWidget");e.find(".selected").removeClass("selected"),e.find(".ui-state-active").addClass("selected")},convertRemToPixels(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)},importVimeoScript(t){if(window.Vimeo){t?.(window.Vimeo);return}this.fancyLog("Loading Vimeo Player...");let e=document.createElement("script");e.src=`${templateURL}/assets/js/external/vimeo-player.js`,e.defer=!0,e.onload=()=>{this.fancyLog("Vimeo Player loaded:",window.Vimeo),t?.(window.Vimeo)},e.onerror=()=>{console.error("Failed to load Vimeo Player script.")},document.body.appendChild(e)},importYouTubeScript(t){if(window.YT&&window.YT.Player){t?.(window.YT);return}this.fancyLog("Loading YouTube Iframe API...");let e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",e.defer=!0,e.onload=()=>{this.fancyLog("YouTube Iframe API loaded:",window.YT);let n=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{n?.(),t?.(window.YT)}},e.onerror=()=>{console.error("Failed to load YouTube Iframe API.")},document.body.appendChild(e)},importHubspotScript(t){if(typeof hbspt<"u"){t?.();return}this.fancyLog("Loading Hubspot...");let e=document.createElement("script");e.src=`${templateURL}/assets/js/external/hubspot-embed.min.js`,e.defer=!0,e.onload=()=>{this.fancyLog("Hubspot Embed loaded."),t?.()},e.onerror=()=>{console.error("Failed to load Hubspot Embed script.")},document.body.appendChild(e)},importVimeoThumbnail(t,e){fetch(`https://vimeo.com/api/oembed.json?url=https://vimeo.com/${t}&width=1920&height=1080`).then(n=>n.json()).then(n=>{s("<img>",{src:n.thumbnail_url,alt:n.title}).appendTo(e)})},fancyLog(t,e="info"){let n={info:{label:"\u2139\uFE0F INFO:",style1:"color: white; background-color: #2196F3; padding: 2px 6px; border-radius: 4px;",style2:"color: #FFF;"},warn:{label:"\u26A0\uFE0F WARNING:",style1:"color: black; background-color: #FFEB3B; padding: 2px 6px; border-radius: 4px;",style2:"color: #000;"},error:{label:"\u26D4 ERROR:",style1:"color: white; background-color: #F44336; padding: 2px 6px; border-radius: 4px;",style2:"color: #FFF;"}},{label:a,style1:c,style2:i}=n[e]||n.info;typeof t=="object"?(console.log(`%c${a}`,c),console.log(t)):console.log(`%c${a} %c ${t}`,c,i)},handleTextCount(t){let e=t.find("span"),n=e.data("amount").toString(),a=r=>(r+"").replace(/[^\d\.-]/gi,""),c=a(n),i=(c.split(".")[1]||"").length,u={val:parseFloat(a(e.text()))||0};gsap.to(u,{val:+c,duration:.8,ease:"linear",onUpdate:()=>{e.text(this.formatNumber(u.val,i))}})},formatNumber(t,e){let n=(+t).toLocaleString("en-US").split(".");return e?n[0]+"."+((n[1]||"")+"00000000").substr(0,e):n[0]},siteCopyURL(){let t=s(".copy-link-btn");if(!t.length)return;let e=window.location.href;t.click(function(){let n=s(this).find(".copy-bubble");if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(e).catch(a=>{console.error("Clipboard error:",a)});else{let a=s('<input type="text" style="position: absolute; left: -9999px;">');s("body").append(a),a.val(e).select(),document.execCommand("copy"),a.remove()}n.fadeIn(),setTimeout(()=>n.fadeOut(),2e3)})}},baunfire.addModule(baunfire.Global)})();(function(){let s=baunfire.$;baunfire.Animation={init(){this.handleNav(),this.handleButtonHover(),this.handleResourceAnim()},handleButtonHover(){let t=s("a.btn");if(!t.length)return;let e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";t.each(function(){let n=s(this),a=n.find(".front");if(!a.length)return;let c=[];n.on("mouseenter",function(){c.forEach(i=>i.kill()),c=[],a.each(function(){let i=s(this),u=i.data("original"),r=gsap.to(i,{duration:.4,scrambleText:{text:u,chars:e,speed:.4},ease:"none"});c.push(r)})}),n.on("mouseleave",function(){c.forEach(i=>i.kill()),c=[],a.each(function(){let i=s(this),u=i.data("original");i.text(u);let r=gsap.to(i,{duration:.4,scrambleText:{text:u,chars:e,revealDelay:.2,tweenLength:!1},ease:"power2.out"});c.push(r)})})})},handleNav(){let t=s("nav");if(!t.length)return;let e=t.find(".nav-item.parent"),n=t.find(".nav-item"),a=()=>{let o=0,l=!1;function p(){let f=window.pageYOffset||document.documentElement.scrollTop;if(f===o){l=!1;return}f>o?t.hasClass("nav-hidden")||t.hasClass("mob-active")||t.addClass("nav-hidden"):t.hasClass("nav-hidden")&&t.removeClass("nav-hidden"),o=Math.max(0,f),l=!1}window.addEventListener("scroll",function(){l||(window.requestAnimationFrame(p),l=!0)})},c=()=>{function o(){let l=document.querySelector("nav");l&&(window.scrollY>20?l.classList.add("nav-scrolled"):l.classList.remove("nav-scrolled"))}document.addEventListener("scroll",o),document.addEventListener("DOMContentLoaded",o),window.addEventListener("load",o)},i=()=>{let o=null,l=null,p=300,f=()=>window.matchMedia("(min-width: 1200px)").matches;e.on("mouseenter",function(){if(!f())return;let h=s(this);clearTimeout(l),o&&o!==this&&s(o).removeClass("open"),h.addClass("open"),o=this}),e.on("mouseleave",function(){if(!f())return;let h=s(this);l=setTimeout(()=>{h.removeClass("open"),o===this&&(o=null)},p)}),n.not(".parent").on("mouseenter",function(){f()&&(clearTimeout(l),o&&(s(o).removeClass("open"),o=null))})},u=()=>{e.each(function(){let o=s(this);o.find(".nav-item-inner").click(function(){window.matchMedia("(max-width: 1200px)").matches&&(o.hasClass("open")?o.removeClass("open"):(e.removeClass("open"),o.addClass("open")))})})},r=()=>{let o=t.find(".nav-burger");gsap.matchMedia().add({isDesktop:"(min-width: 1200px)",isMobile:"(max-width: 1199.98px)"},p=>{let{isDesktop:f,isMobile:h}=p.conditions;return(f||h)&&e.removeClass("open"),f&&(t.removeClass("mob-active"),baunfire.Global.siteScrolling(),o.off("click")),h&&o.click(function(){t.hasClass("mob-active")?d():m()}),()=>{}})},m=()=>{t.addClass("mob-active"),baunfire.Global.siteScrolling(!1)},d=()=>{t.removeClass("mob-active"),baunfire.Global.siteScrolling(),e.removeClass("open")};a(),c(),r(),i(),u()},handleResourceAnim(){let t=s(".rs");if(!t.length)return;let e=()=>{let i=t.find("section.rs-head");if(!i.length)return;(r=>{let m=r.find(".block-left"),d=r.find(".block-right"),o=[m,d].filter(p=>p.length>0),l=gsap.timeline({scrollTrigger:{trigger:r,start:baunfire.anim.start}}).fromTo(o,{y:40,autoAlpha:0},{y:0,autoAlpha:1,duration:.8,stagger:{each:.2},ease:Power2.easeOut})})(i)},n=()=>{let i=t.find("section.subscribe-cta");if(!i.length)return;(r=>{let m=r.find(".block-heading"),d=r.find(".block-para"),o=r.find(".block-form"),l=r.find(".envelope"),p=[m,d,o,l].filter(h=>h.length>0),f=gsap.timeline({scrollTrigger:{trigger:r,start:baunfire.anim.start}}).fromTo(p,{y:40,autoAlpha:0},{y:0,autoAlpha:1,duration:.8,stagger:{each:.2},ease:Power2.easeOut})})(i)},a=()=>{let i=t.find("section.resources-featured");if(!i.length)return;(r=>{let m=r.find(".block-title"),d=r.find(".block-duo"),o=r.find(".rc-card"),l=[m,d].filter(f=>f.length>0),p=gsap.timeline({scrollTrigger:{trigger:r,start:baunfire.anim.start}}).fromTo(l,{y:40,autoAlpha:0},{y:0,autoAlpha:1,duration:.8,stagger:{each:.2},ease:Power2.easeOut});o.length&&p.fromTo(o,{y:40,autoAlpha:0},{autoAlpha:1,y:0,duration:.6,ease:Power2.easeOut,stagger:{each:.2}},">-0.8")})(i)},c=()=>{let i=t.find("section.content-cta");if(!i.length)return;let u=m=>{let d=m.find(".bg"),o=m.find(".box"),l=m.find(".marquee-inner"),p=[o,l].filter(h=>h.length>0),f=gsap.timeline({scrollTrigger:{trigger:m,start:baunfire.anim.start}}).fromTo(d,{autoAlpha:0},{autoAlpha:1,duration:.8,ease:Power2.easeOut}).fromTo(p,{y:40,autoAlpha:0},{y:0,autoAlpha:1,duration:.8,ease:Power2.easeOut,stagger:{each:.2}},">-0.6")},r=m=>{let d=m.find(".marquee");ScrollTrigger.create({trigger:d,start:"top 90%",end:"bottom top",onEnter:()=>{d.removeClass("paused")},onLeave:()=>{d.addClass("paused")},onEnterBack:()=>{d.removeClass("paused")},onLeaveBack:()=>{d.addClass("paused")}})};u(i),r(i)};e(),n(),a(),c()}},baunfire.addModule(baunfire.Animation)})();jQuery(document).ready(function(){window.baunfire.ready()});})();
